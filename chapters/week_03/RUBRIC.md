# Week 03 评分标准

## 总览

| 层级 | 题目数 | 总分 | 及格线 |
|------|--------|------|--------|
| 基础 | 2 | 40 | 24 |
| 进阶 | 2 | 40 | 24 |
| 挑战 | 2 | 20 | - |

**说明**：
- 基础 + 进阶作业总分 80 分，48 分及格
- 挑战作业为附加分，不计入及格判定
- 每道题有明确的评分点，扣分有据可查

---

## 基础作业（40 分）

### 题目 1：温度换算器（20 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|----------|
| 函数定义正确 | 5 分 | 使用 `def` 正确定义函数，包含参数列表和冒号，函数体缩进正确 |
| return 语句 | 5 分 | 使用 `return` 返回计算结果，而非直接 print |
| 计算逻辑 | 5 分 | 换算公式正确（`F = C × 9/5 + 32`），三次调用结果正确 |
| 输出格式 | 3 分 | 输出格式符合要求，包含温度符号和单位 |
| 代码规范 | 2 分 | 函数命名规范，缩进一致，无多余空行或注释 |

**扣分细则**：
- 使用 `print` 而非 `return`：-3 分（但仍有部分分数，因为函数能运行）
- 函数定义缺少参数或冒号：-2 分
- 缩进错误（如函数体未缩进）：-2 分
- 计算公式错误：-5 分（输出结果不正确）
- 只调用一次或两次函数：-2 分（要求调用三次）

---

### 题目 2：计算矩形面积和周长（20 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|----------|
| 两个函数正确定义 | 6 分 | 每个函数 3 分，包含参数和返回值 |
| 参数使用 | 4 分 | 两个函数都正确使用传入的参数进行计算 |
| 返回值 | 4 分 | 两个函数都正确使用 `return` 返回结果 |
| 用户输入处理 | 3 分 | 正确使用 `float(input())` 获取并转换输入 |
| 输出清晰 | 3 分 | 输出包含"面积"和"周长"标签，格式可读 |

**扣分细则**：
- 只定义了一个函数：-6 分
- 函数未使用参数，而是用 `input()`：-3 分（违背了参数的设计意图）
- 函数内部直接 `print` 而非 `return`：-2 分
- 输入处理错误（如未转 float）：-2 分
- 输出混乱（无法区分哪个是面积哪个是周长）：-2 分

---

## 进阶作业（40 分）

### 题目 3：多单位换算器（25 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|----------|
| 换算函数实现 | 8 分 | 至少 3 个换算函数，每个函数职责单一，参数和返回值正确 |
| show_menu() | 3 分 | 正确显示菜单，格式清晰 |
| get_choice() | 5 分 | 包含输入验证循环，返回有效选择 |
| do_conversion() | 4 分 | 根据 choice 正确调用对应换算函数，获取用户输入并打印结果 |
| main() 函数 | 3 分 | 使用 while 循环实现持续运行，正确调用其他函数 |
| 代码结构 | 2 分 | 函数之间调用关系清晰，无重复代码 |

**扣分细则**：
- 换算函数少于 3 个：-2 分/个
- 换算函数直接用 `input()` 而非参数：-1 分/个
- `get_choice()` 无输入验证（用户输入 5 也会接受）：-3 分
- `main()` 无循环（用一次就退出）：-3 分
- 所有代码写在一个大函数里（未拆分）：-8 分（违背了本周核心学习目标）
- 函数之间直接用全局变量传递数据：-2 分

**加分项**（最多 +2 分）：
- 格式化输出（如保留两位小数、对齐）：+1 分
- 添加额外的换算类型：+1 分

---

### 题目 4：理解作用域（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|----------|
| 预测输出正确 | 5 分 | 正确写出程序会输出什么（函数内 x: 20，函数外 x: 10） |
| 解释局部变量 | 5 分 | 准确解释为什么函数内的赋值不影响外部（作用域概念） |
| global 关键字 | 3 分 | 知道如何用 `global` 修改全局变量，并给出示例代码 |
| 表达清晰 | 2 分 | 解释用词准确，逻辑清晰 |

**扣分细则**：
- 预测输出错误：-3 分
- 无法解释局部变量概念（如"因为函数就是这样"这种模糊回答）：-3 分
- 不知道 `global` 关键字：-2 分（但能说出"函数不应该修改全局变量"的工程观点可部分得分）
- 解释完全错误或不知所云：-5 分（该项 0 分）

---

## 挑战作业（20 分）

### 题目 5：带记忆的计算器（20 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|----------|
| 运算函数实现 | 6 分 | 4 个运算函数都正确定义，参数和返回值正确 |
| 除零处理 | 3 分 | `divide` 函数正确处理除零，返回提示字符串 |
| record_history() | 3 分 | 正确添加记录到全局列表，格式符合要求 |
| show_history() | 3 分 | 正确打印历史或提示无历史 |
| main() 函数 | 3 分 | 菜单循环完整，所有功能都能正常调用 |
| 代码结构 | 2 分 | 函数职责清晰，无冗余代码 |

**扣分细则**：
- 运算函数少于 4 个：-1 分/个
- 除零未处理（直接报错）：-2 分
- 历史记录格式混乱或无法阅读：-1 分
- `show_history()` 无历史时直接打印空行：-1 分
- 主循环逻辑错误（如无法退出）：-2 分
- 所有代码堆在 `main()` 里（未拆函数）：-8 分

---

### 思考题（不计分）

本题不计分，仅供思考。

如果你提交了思考记录，会在评语中给予反馈。

---

## 通用评分标准

### 代码规范（所有题目通用）

| 问题 | 扣分 |
|------|------|
| 函数名不规范（如用驼峰 `kmToMiles` 而非下划线 `km_to_miles`） | -1 分/处 |
| 缺少文档字符串（`"""..."""`） | -1 分/函数 |
| 缩进混乱（混用空格和 Tab） | -2 分 |
| 变量名无意义（如 `a`、`b`、`x` 而非 `width`、`height`） | -1 分/处 |
| 代码有大量注释掉的废代码 | -1 分 |

### 测试通过情况

- **基础作业**：必须通过自动化测试，否则扣 5 分/题
- **进阶作业**：测试覆盖核心函数，未通过扣 5 分/测试点
- **挑战作业**：无自动化测试，但手动测试失败将扣对应功能点分数

### 提交规范

| 问题 | 扣分 |
|------|------|
| 未提交 Git 记录或只有 1 次提交 | -5 分 |
| 代码无法运行（SyntaxError） | 该题 0 分，但可修复后重评 |
| 文件命名错误（如 `assignment.py` 而非要求的文件名） | -2 分 |

---

## 分数等级

| 总分（基础+进阶） | 等级 | 评价 |
|------------------|------|------|
| 72-80 | 优秀 (A) | 完全掌握函数定义、参数和返回值，能合理分解问题 |
| 64-71 | 良好 (B) | 掌握核心概念，代码结构基本合理 |
| 56-63 | 及格 (C) | 基本理解函数，但作用域或参数传递有困惑 |
| 48-55 | 勉强及格 (D) | 能写简单函数，但函数分解能力不足 |
| < 48 | 不及格 (F) | 未达到本周学习目标，需要重做 |

**挑战作业加分后**：
- 总分最高 100 分（基础+进阶+挑战）
- 挑战作业得分不影响及格判定，但影响总评

---

## 反馈模板

学生收到的评语会包含：

1. **做得好的地方**（具体到某个函数或代码段）
2. **需要改进的地方**（具体到某个评分点）
3. **本周核心概念掌握情况**（函数定义、参数、返回值、作用域）
4. **下周建议**（如"作用域理解较弱，建议复习第 4 节"）

示例评语：

```
【做得好的地方】
- 温度换算器函数定义规范，return 语句使用正确
- 多单位换算器拆分清晰，每个函数职责单一，这正是本周的核心目标

【需要改进的地方】
- 题目 2 的函数使用了 input() 而非参数，违背了"函数通过参数获取输入"的设计原则
- 代码中有几处函数名用了驼峰命名（如 KmToMiles），Python 推荐用下划线（km_to_miles）

【本周核心概念掌握】
✓ 函数定义：完全掌握
✓ 参数：基本掌握（注意参数应该由调用者传入，而非函数内部 input）
✓ 返回值：完全掌握
✗ 作用域：理解有误（题目 4 的解释混淆了局部变量和全局变量）

【下周建议】
作用域是编程的重要概念，建议复习 CHAPTER.md 第 4 节，特别是"局部变量就像房间里的东西"这个比喻。
```

---

## 期末关联

本周作业得分会影响期末 Capstone 项目的准备度：

- 函数分解能力（题目 3、5）直接影响 Week 07 的模块化设计
- 作用域理解（题目 4）影响 Week 04 的列表/字典操作
- 参数和返回值（所有题目）是后续所有周的基础

**如果本周得分 < 60 分，建议**：
1. 重做进阶作业，确保理解函数分解
2. 找老师或同学讨论作用域的概念
3. 在 PyHelper 项目中多练习函数拆分
