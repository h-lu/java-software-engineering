# Java 软件工程与 Agentic 开发 — 最终版课程大纲

> **核心理念**：AI 是倍增器，不是替代者。架构决策在人，质量把控在人，工程思维必须掌握在自己手中。

---

## 课程定位

- **学生**：有 Python 基础（学过《Python 程序设计（Agentic Coding）》）
- **班级规模**：70 人，2-3 人团队（约 25-35 个项目）
- **时长**：16 周
- **技术栈**：Java 17 + Javalin（极简）+ SQLite + JUnit 5
- **项目形式**：团队项目（CampusFlow）+ 项目集市展示

---

## 核心理念

### AI 是倍增器
- **AI 擅长**：生成样板代码、自动化测试、代码审查辅助、文档生成
- **AI 不擅长**：架构决策、边界情况判断、质量把控、概念完整性维护
- **学生要学会**：用 AI 放大能力，但保持独立判断

### 关键机制
1. **ADR（架构决策记录）**：每两周一篇，记录设计决策
2. **首席架构师轮换**：每两周轮换，负责设计决策
3. **AI 审查训练**：不只是用 AI，要会批判性审查 AI 输出

---

## 16 周详细安排

### 阶段一：思维奠基（Week 01-04）

#### Week 01：抽象层次与软件工程史
**主题**：从"写代码"到"理解软件工程的演进"

**核心内容**：
- 软件工程的三个黄金时代（Booch 观点）
- 抽象层次的不断提升
- Python（动态）vs Java（静态）的思维差异
- 配置开发环境（JDK 17、IntelliJ、Maven、Git）

**实践**：
- Hello World + 第一个 Java 程序
- 团队组建 + 选题确定
- 建立 Git 仓库

---

#### Week 02：类设计与概念完整性
**主题**：类是抽象的工具，设计决策需要记录

**核心内容**：
- 类设计基础（不只是语法，是思维）
- 如何识别类：名词提取法、职责分配
- SOLID 原则入门
- **ADR 介绍**：什么是架构决策记录

**实践**：
- 设计项目的核心领域模型
- **写第一份 ADR**：领域模型设计决策
- 首席架构师第一轮上任

---

#### Week 03：异常处理与防御式编程
**主题**：错误处理是工程责任

**核心内容**：
- 受检异常 vs 非受检异常
- 防御式编程原则
- 故障模式分析（FMEA 简化版）
- 对比：Python 的"宽容" vs Java 的"严格"

---

#### Week 04：团队协作与 Code Review
**主题**：软件是团队运动

**核心内容**：
- Git 分支策略（Git Flow 简化版）
- Pull Request 流程
- **如何审查代码**：人类审查 + AI 辅助审查
- 给出建设性反馈的艺术

**ADR 截止**：第一篇 ADR 提交

---

### 阶段二：系统化工程（Week 05-08）

#### Week 05：集合框架与抽象选择
**主题**：数据结构是抽象的容器，选择合适的抽象

**核心内容**：
- ArrayList、HashMap、Stream API
- **选择合适的抽象**
- 泛型基础

**首席架构师轮换**：第二轮上任

---

#### Week 06：测试策略与质量门禁
**主题**：测试是工程纪律，AI 可以辅助但不能替代判断

**核心内容**：
- 测试金字塔（单元、集成）
- JUnit 5 深度
- **AI 辅助测试生成**：让 AI 生成、你来审查
- TDD 介绍

**实践**：
- 为核心功能写测试（目标 70% 覆盖率）
- 建立 CI 流水线

---

#### Week 07：持久化与数据完整性
**主题**：数据是系统的核心资产

**核心内容**：
- JDBC 基础
- Repository 模式
- 事务概念
- **数据建模决策**

**实践**：
- 从内存存储迁移到 SQLite
- **写第二份 ADR**：数据存储方案选择

---

#### Week 08：设计模式与重构决策
**主题**：设计模式是工程智慧，但要知道何时使用

**核心内容**：
- 策略模式、工厂模式、观察者模式
- **何时使用模式**（过度设计的陷阱）
- 重构的时机和策略
- 技术债识别

**ADR 截止**：第二篇 ADR 提交

---

### 阶段三：AI 时代的工程（Week 09-12）

#### Week 09：REST API 设计
**主题**：API 是契约，是承诺

**核心内容**：
- RESTful 设计原则
- Javalin 框架（极简）
- JSON 处理
- **API 设计决策**

**实践**：
- 后端 API 完成
- 能用 Postman 测试所有接口

**首席架构师轮换**：第三轮上任

---

#### Week 10：AI 辅助开发与审查（核心周）
**主题**：AI 是倍增器，但判断力在人

**核心内容**：
- Prompt 工程基础
- **AI 生成代码的审查训练**（重点）：
  - 给一段 AI 生成的代码，找出至少 3 个问题
  - 安全漏洞、边界情况、命名规范、设计缺陷
- AI 的局限（Linus 观点）
- **AI 审查检查清单**

**实践**：
- 用 AI 生成前端代码
- 使用审查检查清单评估 AI 输出
- 修复并改进 AI 生成的代码

---

#### Week 11：质量保障与静态分析
**主题**：质量是系统性的，AI 可以辅助审查

**核心内容**：
- SpotBugs、PMD 静态分析
- 代码覆盖率（JaCoCo）
- **AI 辅助代码审查**（Linus 的实验）
- 质量门禁建立

**ADR 截止**：第三篇 ADR 提交

---

#### Week 12：技术债与架构演进
**主题**：软件会腐烂，需要主动维护和演进

**核心内容**：
- 技术债识别和管理
- 代码异味、架构异味
- **演进式架构**
- 写 ADR：架构演进决策

**首席架构师轮换**：第四轮上任

---

### 阶段四：综合实战（Week 13-16）

#### Week 13：集成、测试与 Bug Bash
**主题**：系统级质量保障

**核心内容**：
- 集成测试策略
- 契约测试概念
- Bug Bash（团队间互相测试）
- **根因分析**

---

#### Week 14：文档与知识传递
**主题**：代码之外的知识，AI 可以辅助但不能替代思考

**核心内容**：
- API 文档（Swagger/OpenAPI 简介）
- README 写作
- **知识管理**：ADR 汇总
- AI 辅助文档生成（审查 AI 生成的文档）

**ADR 截止**：第四篇 ADR 提交

---

#### Week 15：最终冲刺与发布准备
**主题**：交付是工程的最后一步

**核心内容**：
- 发布清单
- 版本控制（Git Tag）
- 回滚策略
- 项目集市准备

---

#### Week 16：项目展示与工程复盘
**主题**：从项目中学到的工程教训

**项目集市**（开放展示）：
- 每组 8-10 分钟演示
- 展示：功能 + 设计决策 + AI 使用经验

**工程复盘（Engineering Retrospective）**：
- **技术决策回顾**：哪些 ADR 的决策是对的？
- **AI 使用反思**：AI 帮了什么？局限在哪里？
- **个人成长**：从"会编程"到"会工程"的转变

---

## 关键机制详解

### ADR（架构决策记录）

**频率**：每两周一篇，共 4 篇

**提交时机**：
- ADR-001：Week 02（领域模型）
- ADR-002：Week 04（数据存储）
- ADR-003：Week 06（API 设计）
- ADR-004：Week 08（架构演进）

### 首席架构师轮换

**轮换周期**：每两周一次，共 4 轮

**职责**：
1. 主持设计讨论
2. 负责写当期 ADR
3. 做最终设计决策（需听取团队意见）
4. 代表团队参加跨组协调

### AI 审查检查清单

```markdown
## AI 代码审查清单

### 功能正确性
- [ ] 代码是否实现了需求？
- [ ] 是否有明显的逻辑错误？

### 边界情况（AI 常遗漏）
- [ ] 空输入处理了吗？
- [ ] 极值情况处理了吗？
- [ ] 异常情况处理了吗？

### 安全考虑
- [ ] 有 SQL 注入风险吗？
- [ ] 有 XSS 风险吗？

### 可维护性
- [ ] 命名清晰吗？
- [ ] 有"幻觉"（不存在的方法/类）吗？
```

---

## 评估体系

| 维度 | 占比 | 说明 |
|------|------|------|
| **项目功能** | 25% | 功能完整、可用 |
| **代码质量** | 20% | 测试覆盖、静态分析、设计合理性 |
| **ADR 质量** | 20% | 4 篇 ADR 的深度和思考 |
| **AI 协作能力** | 15% | AI 使用日志、审查质量、改进能力 |
| **团队协作** | 10% | Git 协作、Code Review 参与 |
| **工程反思** | 10% | 最终复盘报告的深度 |

---

## 技术栈（保持极简）

| 层级 | 技术 | 说明 |
|------|------|------|
| 语言 | Java 17 | LTS 版本 |
| 构建 | Maven | 标准工具 |
| Web | Javalin | 极简框架（几百 KB）|
| 数据库 | SQLite | 零配置 |
| 测试 | JUnit 5 | 标准测试框架 |
| JSON | Gson | 简单够用 |
| 静态分析 | SpotBugs, PMD | 质量保障 |

**不引入**：Spring Boot（太重，不符合极简原则）

---

## 生成指南

```bash
# 初始化
make setup

# 生成单周（推荐用 team-week 并行模式）
/team-week week_01

# 质量检查
/qa-week week_01

# 发布
/release-week week_01
```

---

**最后更新**：2025 年 2 月
