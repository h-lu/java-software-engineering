/*
 * 示例：文档质量对比（坏 vs 好）。
 *
 * 本文件不运行代码，而是展示文档写作的"坏例子"和"好例子"对比。
 * 每个示例对应一个文档类型：README、OpenAPI、ADR
 *
 * 运行方式：无需运行，直接阅读代码注释即可
 * 预期输出：无（本文件用于教学对比）
 */

/**
 * ┌─────────────────────────────────────────────────────────────────┐
 * │ 示例 1：README 对比                                    │
 * └─────────────────────────────────────────────────────────────────┘
 */

/*
 * ❌ 坏的 README：从"技术栈"开始，用户不知道怎么跑起来
 */

/*
# MyProject

## 技术栈
本项目使用以下技术：
- Java 17
- Maven 3.6
- Javalin 6.1
- JUnit 5

## 架构设计
本项目采用三层架构...

## 项目历史
这是我的期末作业项目...

## 安装
请先安装 Java 和 Maven，然后运行 mvn install。
 */

/*
 * ✅ 好的 README：从"快速开始"开始，用户 5 分钟内能跑起来
 */

/*
# CampusFlow

> 一个简洁的校园任务管理系统，支持创建任务、设置截止日期、标记完成。

## 快速开始（5 分钟）

### 前置要求
- Java 17+
- Maven 3.6+

### 启动服务器
```bash
mvn compile exec:java
```

### 验证安装
```bash
curl http://localhost:7070/health
```

## 功能特性
- ✅ 创建任务、编辑任务、删除任务
- ✅ 设置截止日期、标记完成
- ✅ RESTful API

## 常见问题
**Q: 如何修改端口号？**
A: 编辑 App.java 中的 PORT 常量。
 */

/**
 * ┌─────────────────────────────────────────────────────────────────┐
 * │ 示例 2：OpenAPI 文档对比                              │
 * └─────────────────────────────────────────────────────────────────┘
 */

/*
 * ❌ 坏的 OpenAPI 文档：没有业务约束说明
 */

/*
paths:
  /tasks:
    post:
      summary: 创建任务
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TaskInput'
      responses:
        '201':
          description: 创建成功
 */

/*
 * ✅ 好的 OpenAPI 文档：有业务规则和注意事项
 */

/*
paths:
  /tasks:
    post:
      summary: 创建新任务
      description: |
        创建一个新任务。标题必填，描述和截止日期可选。

        **业务规则**：
        - 标题必填，长度 1-100 字符
        - 如果标题超过 100 字符，返回 400 错误
        - 截止日期必须是未来日期（否则返回 400）
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TaskInput'
            examples:
              minimal:
                summary: 最小请求（仅标题）
                value:
                  title: "完成 Week 13 作业"
      responses:
        '201':
          description: 任务创建成功
        '400':
          description: 请求参数错误（如标题为空、超过长度限制）
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                emptyTitle:
                  summary: 标题为空
                  value:
                    code: 400
                    message: "标题不能为空"
 */

/**
 * ┌─────────────────────────────────────────────────────────────────┐
 * │ 示例 3：ADR 对比                                       │
 * └─────────────────────────────────────────────────────────────────┘
 */

/*
 * ❌ 坏的 ADR：只有决策，没有理由和后果
 */

/*
# ADR-001: 数据存储

## 决策
使用 PostgreSQL。

## 日期
2026-02-01
 */

/*
 * ✅ 好的 ADR：有背景、理由、后果
 */

/*
# ADR-002: 数据存储方案

## 状态
已采纳

## 背景
Week 07 时，CampusFlow 需要持久化存储。团队有两个选择：
1. SQLite：零配置、单文件
2. PostgreSQL：功能强大、需要独立服务器

## 决策
使用 SQLite + JDBC。

## 理由
1. **零配置**：无需安装数据库服务器，适合学习项目
2. **单文件**：数据库文件可以直接备份、迁移
3. **学习成本低**：JDBC 是 Java 数据访问的基础

## 后果
**优点**：
- 开发体验好，启动快
- 适合小规模应用（<100 QPS）

**缺点**：
- 并发性能有限
- 不支持多服务器部署

**撤销条件**：
- 并发 QPS > 100
- 需要多服务器部署
- 需要事务的高级特性

## 相关 ADR
- 受 ADR-001（贫血模型）影响
- 影响 ADR-003（API 设计）
 */

/**
 * ┌─────────────────────────────────────────────────────────────────┐
 * │ 示例 4：API 文档注释对比                              │
 * └─────────────────────────────────────────────────────────────────┘
 */

/*
 * ❌ 坏的 Javadoc：只重复方法名，没有附加价值
 */

/**
 * 创建任务。
 *
 * @param request 创建请求
 * @return 创建的任务
 */
public Task createTask(TaskRequest request) {
    // ...
}

/*
 * ✅ 好的 Javadoc：说明"为什么"、"注意什么"
 */

/**
 * 创建新任务。
 *
 * <p>业务规则：
 * <ul>
 *   <li>标题必填，长度 1-100 字符</li>
 *   <li>截止日期必须是未来日期</li>
 * </ul>
 *
 * <p>注意：此方法会自动生成任务 ID。
 *
 * @param request 创建任务请求，标题必填
 * @return 创建后的任务，包含生成的 ID
 * @throws ValidationException 如果标题为空或超过长度限制
 * @throws ValidationException 如果日期格式错误或不是未来日期
 */
public Task createTask(TaskRequest request) {
    // ...
}

/**
 * ┌─────────────────────────────────────────────────────────────────┐
 * │ 文档质量检查清单                                         │
 * └─────────────────────────────────────────────────────────────────┘
 */

/*
 * README 检查清单：
 *
 * - [ ] 快速开始在前 10 行内
 * - [ ] 所有命令可以复制粘贴运行
 * - [ ] 有常见问题（FAQ）章节
 * - [ ] 新用户能在 5 分钟内跑起来
 *
 * OpenAPI 检查清单：
 *
 * - [ ] 所有端点都有文档
 * - [ ] 请求/响应 schema 定义完整
 * - [ ] 业务约束写在 description 中
 * - [ ] 错误码有说明
 *
 * ADR 检查清单：
 *
 * - [ ] 每个决策有"背景"、"理由"、"后果"
 * - [ ] 有决策依赖图
 * - [ ] 有待决策事项
 * - [ ] 决策理由清晰，不是"凭感觉"
 */

/**
 * ┌─────────────────────────────────────────────────────────────────┐
 * │ 关键要点总结                                             │
 * └─────────────────────────────────────────────────────────────────┘
 */

/*
 * 1. README 的倒金字塔原则
 *    - 最重要：快速开始（用户最关心）
 *    - 次重要：功能特性、使用指南
 *    - 可选：项目结构、开发指南
 *    - 参考：常见问题、许可证
 *
 * 2. OpenAPI 的业务约束
 *    - description 字段不只是给人看的，还是"契约"的一部分
 *    - 必须说明：标题最大 100 字符、日期格式、错误码含义
 *    - AI 能生成"有什么"，但"为什么"得靠你写
 *
 * 3. ADR 的决策链
 *    - 单个 ADR 是"决策碎片"
 *    - ADR 索引是"决策地图"
 *    - 决策依赖图展示"涟漪效应"
 *    - 人会忘，但 ADR 能保留设计意图
 */
