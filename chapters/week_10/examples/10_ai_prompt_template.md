<!--
 * 示例：AI 前端生成 Prompt 工程模板
 * 运行方式：本文件为 Markdown 文档，供阅读和参考使用
 * 预期输出：理解 Prompt 工程四要素，能够写出高质量的 AI 生成请求
-->

# AI 前端生成 Prompt 工程模板

## Prompt 工程四要素

好的 Prompt 就像好的需求文档——它让 AI 明白你是谁、你要什么、边界在哪里、输出应该长什么样。

### 1. 角色定义（Role）

告诉 AI 扮演什么角色，这会影响输出的专业程度。

**差的角色定义：**
```
帮我写个前端页面。
```

**好的角色定义：**
```
你是一位有 5 年经验的前端开发工程师，擅长原生 HTML/CSS/JavaScript 开发，注重代码安全性和用户体验。
```

### 2. 任务描述（Task）

明确、具体地描述你要什么。避免模糊的词汇。

**差的任务描述：**
```
写个任务管理的前端。
```

**好的任务描述：**
```
请为一个任务管理应用生成完整的前端代码，包含以下功能：
1. 任务列表展示（标题、描述、截止日期、状态）
2. 添加新任务的表单
3. 删除任务的功能
4. 标记任务完成的功能
```

### 3. 约束条件（Constraints）

列出限制条件和技术要求。这是避免 AI "乱来"的关键。

**常见约束：**
- 技术栈限制（不使用框架、特定版本等）
- 安全要求（防止 XSS、CSRF 等）
- 功能边界（处理加载状态、错误情况等）
- 兼容性要求（浏览器支持等）

### 4. 输出格式（Format）

指定输出格式，让 AI 知道应该以什么形式呈现结果。

**常见格式：**
- 完整 HTML 文件（可直接保存运行）
- 分离的 HTML/CSS/JS 文件
- 特定代码风格（缩进、命名规范等）

---

## CampusFlow API 完整 Prompt 示例

以下是一个针对 CampusFlow 后端的完整 Prompt，你可以直接复制使用或根据需求修改：

````markdown
# 角色
你是一位有 5 年经验的前端开发工程师，擅长原生 HTML/CSS/JavaScript 开发。
你注重代码安全性，熟悉 XSS 防护和前端最佳实践。

# 任务
请为 CampusFlow 任务管理系统生成一个完整的前端界面。

## 功能需求
1. **任务列表展示**
   - 显示所有任务的标题、描述、截止日期
   - 用不同颜色区分已完成/未完成/已逾期任务
   - 显示逾期天数（如果已逾期）

2. **添加任务**
   - 表单包含：标题（必填）、描述（选填）、截止日期（必填）
   - 添加成功后清空表单
   - 实时刷新任务列表

3. **删除任务**
   - 每个任务旁有删除按钮
   - 删除前需要确认
   - 删除后刷新列表

4. **标记完成**
   - 可以标记任务为已完成
   - 已完成的任务可以重新标记为未完成

## 后端 API 信息
- 基础 URL: http://localhost:7070
- GET    /tasks              - 获取所有任务（返回 {data: [], total: n}）
- GET    /tasks/{id}         - 获取指定任务
- POST   /tasks              - 创建任务（请求体: {title, description, dueDate}）
- PUT    /tasks/{id}         - 更新任务
- PATCH  /tasks/{id}         - 部分更新任务
- DELETE /tasks/{id}         - 删除任务
- POST   /tasks/{id}/complete - 标记任务完成
- GET    /tasks/{id}/overdue-fee - 获取逾期费用
- GET    /stats              - 获取统计信息

## 技术要求
1. 使用原生 HTML5、CSS3、ES6+，不依赖任何框架
2. 使用 Fetch API 进行后端通信
3. **安全要求**：
   - 使用 textContent 或 createElement 插入用户输入，禁止使用 innerHTML
   - 对用户输入进行基本验证
4. **健壮性要求**：
   - 处理加载状态（显示加载指示器）
   - 处理网络错误（显示友好的错误提示）
   - 处理空状态（列表为空时显示提示）
   - 处理 HTTP 错误状态（4xx, 5xx）
5. **用户体验**：
   - 响应式设计，支持移动端
   - 添加适当的动画过渡效果
   - 表单提交时禁用按钮防止重复提交

## 输出格式
请输出一个完整的 HTML 文件，包含内联的 CSS 和 JavaScript。
代码要求：
- 使用 2 空格缩进
- 变量使用 camelCase 命名
- 添加必要的注释说明关键逻辑
- 代码应该可以直接保存为 .html 文件并在浏览器中打开运行

## 示例数据格式
任务对象结构：
```json
{
  "id": "1",
  "title": "完成任务",
  "description": "详细描述",
  "dueDate": "2026-02-20",
  "status": "pending",
  "createdAt": "2026-02-10T10:00:00",
  "completedAt": null
}
```
状态值：pending（待处理）、in_progress（进行中）、completed（已完成）

## 特别注意
- 后端运行在 localhost:7070，前端直接打开文件运行（file:// 协议）
- 确保 API URL 使用完整路径 http://localhost:7070/tasks
- 逾期任务可以通过比较 dueDate 和当前日期判断
````

---

## Prompt 优化技巧

### 技巧 1：提供示例
AI 擅长模仿。如果你能提供输入/输出的示例，结果会更准确。

```markdown
## 示例
输入：{ "title": "测试任务", "dueDate": "2026-02-20" }
输出：一个显示"测试任务"、截止日期"2026-02-20"的列表项
```

### 技巧 2：分步骤描述
复杂任务拆分成步骤，AI 更容易理解。

```markdown
## 实现步骤
1. 首先创建 HTML 结构，包含任务列表容器和添加表单
2. 然后添加 CSS 样式，确保响应式布局
3. 最后实现 JavaScript 逻辑：
   - 加载任务列表
   - 处理表单提交
   - 实现删除功能
```

### 技巧 3：明确负面约束
告诉 AI "不要做什么"和"要做什么"同样重要。

```markdown
## 不要
- 不要使用 innerHTML 插入用户输入
- 不要使用第三方库（如 jQuery、React）
- 不要忽略错误处理

## 要做
- 使用 textContent 安全地插入文本
- 使用原生 Fetch API
- 添加 try-catch 处理异步错误
```

### 技巧 4：迭代优化
第一次生成的代码可能不完美，可以通过追问改进：

```markdown
"请为上面的代码添加加载状态指示器"
"请修复 XSS 漏洞，用 textContent 替代 innerHTML"
"请添加删除前的确认对话框"
```

---

## 常见 Prompt 陷阱

| 陷阱 | 示例 | 后果 |
|------|------|------|
| 太模糊 | "写个好看的前端" | AI 不知道"好看"的标准 |
| 太宽泛 | "实现所有功能" | 遗漏边界情况 |
| 假设常识 | "像普通网站那样" | AI 对"普通"的理解可能不同 |
| 忽略约束 | 不提安全要求 | 生成有漏洞的代码 |
| 不指定格式 | 不说输出形式 | 可能得到不完整的代码 |

---

## 审查清单：你的 Prompt 够好吗？

在发送 Prompt 前，检查以下项目：

- [ ] 角色定义清晰（AI 知道"我是谁"）
- [ ] 任务描述具体（AI 知道"做什么"）
- [ ] 约束条件完整（AI 知道"边界在哪"）
- [ ] 输出格式明确（AI 知道"怎么呈现"）
- [ ] 提供了必要的背景信息（API 端点、数据格式等）
- [ ] 包含了安全要求（XSS 防护等）
- [ ] 包含了错误处理要求

**记住**：好的 Prompt 是迭代出来的。第一版不完美很正常，根据 AI 的输出不断调整你的 Prompt，你会越来越擅长与 AI 沟通。
